{"ast":null,"code":"var _jsxFileName = \"D:\\\\AIprojects\\\\RagChatbot\\\\frontend\\\\src\\\\ConsolidatedApp.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\n// import React, { useState, useRef, useEffect, useCallback } from \"react\";\n// import { Send, Bot, User, MessageSquare, Loader, Sparkles, Upload, File, X, CheckCircle, AlertCircle, FileText } from \"lucide-react\";\n\n// // Types\n// export interface UploadedFile {\n//   id: string;\n//   name: string;\n//   size: number;\n//   type: string;\n//   uploadedAt: Date;\n// }\n\n// export interface ChatMessage {\n//   id: string;\n//   type: 'user' | 'bot';\n//   content: string;\n//   timestamp: Date;\n// }\n\n// // Basic UI Components\n// const Button = React.forwardRef<\n//   HTMLButtonElement,\n//   React.ButtonHTMLAttributes<HTMLButtonElement> & {\n//     variant?: \"default\" | \"ghost\";\n//     size?: \"default\" | \"sm\";\n//   }\n// >(({ className = \"\", variant = \"default\", size = \"default\", ...props }, ref) => {\n//   const baseClasses = \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:pointer-events-none disabled:opacity-50\";\n//   const variantClasses = {\n//     default: \"bg-blue-600 text-white hover:bg-blue-700\",\n//     ghost: \"hover:bg-gray-100 hover:text-gray-900\"\n//   };\n//   const sizeClasses = {\n//     default: \"h-10 px-4 py-2\",\n//     sm: \"h-9 rounded-md px-3\"\n//   };\n\n//   return (\n//     <button\n//       className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`}\n//       ref={ref}\n//       {...props}\n//     />\n//   );\n// });\n\n// const Textarea = React.forwardRef<\n//   HTMLTextAreaElement,\n//   React.TextareaHTMLAttributes<HTMLTextAreaElement>\n// >(({ className = \"\", ...props }, ref) => (\n//   <textarea\n//     className={`flex min-h-[80px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${className}`}\n//     ref={ref}\n//     {...props}\n//   />\n// ));\n\n// // Header Component\n// const Header = () => {\n//   return (\n//     <header className=\"bg-white/90 backdrop-blur-md border-b border-gray-200/50 sticky top-0 z-50\">\n//       <div className=\"container mx-auto px-4 py-4\">\n//         <div className=\"flex items-center gap-3\">\n//           <div className=\"flex items-center gap-3\">\n//             <div className=\"relative\">\n//               <div className=\"absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl blur-sm opacity-75\"></div>\n//               <div className=\"relative p-3 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl\">\n//                 <Bot className=\"h-6 w-6 text-white\" />\n//               </div>\n//             </div>\n//             <div>\n//               <h1 className=\"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent\">\n//                 DocuChat AI\n//               </h1>\n//               <p className=\"text-sm text-gray-500 flex items-center gap-1\">\n//                 <Sparkles className=\"h-3 w-3\" />\n//                 Intelligent Document Assistant\n//               </p>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     </header>\n//   );\n// };\n\n// // Document Upload Component\n// const DocumentUpload = ({ onFileUpload, uploadedFiles, onDeleteFile, isUploading }: {\n//   onFileUpload: (files: File[]) => void;\n//   uploadedFiles: UploadedFile[];\n//   onDeleteFile: (fileId: string) => void;\n//   isUploading: boolean;\n// }) => {\n//   const [isDragOver, setIsDragOver] = useState(false);\n\n//   const handleDragOver = useCallback((e: React.DragEvent) => {\n//     e.preventDefault();\n//     setIsDragOver(true);\n//   }, []);\n\n//   const handleDragLeave = useCallback((e: React.DragEvent) => {\n//     e.preventDefault();\n//     setIsDragOver(false);\n//   }, []);\n\n//   const handleDrop = useCallback((e: React.DragEvent) => {\n//     e.preventDefault();\n//     setIsDragOver(false);\n\n//     const files = Array.from(e.dataTransfer.files);\n//     if (files.length > 0) {\n//       onFileUpload(files);\n//     }\n//   }, [onFileUpload]);\n\n//   const handleFileSelect = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n//     const files = Array.from(e.target.files || []);\n//     if (files.length > 0) {\n//       onFileUpload(files);\n//     }\n//     e.target.value = '';\n//   }, [onFileUpload]);\n\n//   const formatFileSize = (bytes: number) => {\n//     if (bytes === 0) return '0 Bytes';\n//     const k = 1024;\n//     const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n//     const i = Math.floor(Math.log(bytes) / Math.log(k));\n//     return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n//   };\n\n//   const getFileIcon = (type: string) => {\n//     if (type.includes('pdf')) return 'üìÑ';\n//     if (type.includes('word') || type.includes('document')) return 'üìù';\n//     if (type.includes('text')) return 'üìã';\n//     if (type.includes('image')) return 'üñºÔ∏è';\n//     return 'üìÅ';\n//   };\n\n//   return (\n//     <div className=\"space-y-6\">\n//       <div\n//         className={`\n//           relative border-2 border-dashed rounded-xl p-8 text-center transition-all duration-300\n//           ${isDragOver \n//             ? 'border-blue-400 bg-blue-50 scale-105' \n//             : 'border-gray-300 hover:border-gray-400 hover:bg-gray-50'\n//           }\n//           ${isUploading ? 'pointer-events-none opacity-50' : 'cursor-pointer'}\n//         `}\n//         onDragOver={handleDragOver}\n//         onDragLeave={handleDragLeave}\n//         onDrop={handleDrop}\n//         onClick={() => document.getElementById('file-input')?.click()}\n//       >\n//         <input\n//           id=\"file-input\"\n//           type=\"file\"\n//           multiple\n//           className=\"hidden\"\n//           onChange={handleFileSelect}\n//           accept=\".pdf,.doc,.docx,.txt,.rtf,.odt\"\n//         />\n\n//         {isUploading ? (\n//           <div className=\"space-y-4\">\n//             <div className=\"flex justify-center\">\n//               <Loader className=\"h-12 w-12 text-blue-500 animate-spin\" />\n//             </div>\n//             <div>\n//               <p className=\"text-lg font-medium text-gray-900\">Uploading documents...</p>\n//               <p className=\"text-sm text-gray-500\">Please wait while we process your files</p>\n//             </div>\n//           </div>\n//         ) : (\n//           <div className=\"space-y-4\">\n//             <div className=\"flex justify-center\">\n//               <div className={`p-4 rounded-full transition-colors duration-300 ${\n//                 isDragOver ? 'bg-blue-100' : 'bg-gray-100'\n//               }`}>\n//                 <Upload className={`h-8 w-8 transition-colors duration-300 ${\n//                   isDragOver ? 'text-blue-500' : 'text-gray-400'\n//                 }`} />\n//               </div>\n//             </div>\n//             <div>\n//               <p className=\"text-lg font-medium text-gray-900\">\n//                 {isDragOver ? 'Drop your files here' : 'Upload your documents'}\n//               </p>\n//               <p className=\"text-sm text-gray-500 mt-1\">\n//                 Drag and drop or click to browse\n//               </p>\n//               <p className=\"text-xs text-gray-400 mt-2\">\n//                 Supports PDF, DOC, DOCX, TXT files\n//               </p>\n//             </div>\n//           </div>\n//         )}\n//       </div>\n\n//       {uploadedFiles.length > 0 && (\n//         <div className=\"space-y-3\">\n//           <h3 className=\"text-sm font-medium text-gray-700 flex items-center gap-2\">\n//             <CheckCircle className=\"h-4 w-4 text-green-500\" />\n//             Uploaded Files ({uploadedFiles.length})\n//           </h3>\n\n//           <div className=\"space-y-2 max-h-64 overflow-y-auto\">\n//             {uploadedFiles.map((file) => (\n//               <div\n//                 key={file.id}\n//                 className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg border hover:bg-gray-100 transition-colors\"\n//               >\n//                 <div className=\"flex items-center gap-3 flex-1 min-w-0\">\n//                   <span className=\"text-lg\">{getFileIcon(file.type)}</span>\n//                   <div className=\"flex-1 min-w-0\">\n//                     <p className=\"text-sm font-medium text-gray-900 truncate\">\n//                       {file.name}\n//                     </p>\n//                     <p className=\"text-xs text-gray-500\">\n//                       {formatFileSize(file.size)} ‚Ä¢ {file.uploadedAt.toLocaleDateString()}\n//                     </p>\n//                   </div>\n//                 </div>\n\n//                 <Button\n//                   variant=\"ghost\"\n//                   size=\"sm\"\n//                   onClick={() => onDeleteFile(file.id)}\n//                   className=\"text-gray-400 hover:text-red-500 h-8 w-8 p-0\"\n//                 >\n//                   <X className=\"h-4 w-4\" />\n//                 </Button>\n//               </div>\n//             ))}\n//           </div>\n//         </div>\n//       )}\n\n//       {uploadedFiles.length === 0 && !isUploading && (\n//         <div className=\"text-center py-8\">\n//           <AlertCircle className=\"h-8 w-8 text-gray-300 mx-auto mb-3\" />\n//           <p className=\"text-sm text-gray-500\">No documents uploaded yet</p>\n//           <p className=\"text-xs text-gray-400 mt-1\">Upload some documents to start chatting</p>\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n\n// // Chat Interface Component\n// const ChatInterface = ({ messages, onSendMessage, isGenerating, hasDocuments }: {\n//   messages: ChatMessage[];\n//   onSendMessage: (message: string) => void;\n//   isGenerating: boolean;\n//   hasDocuments: boolean;\n// }) => {\n//   const [inputMessage, setInputMessage] = useState(\"\");\n//   const messagesEndRef = useRef<HTMLDivElement>(null);\n//   const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n//   const scrollToBottom = () => {\n//     messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n//   };\n\n//   useEffect(() => {\n//     scrollToBottom();\n//   }, [messages]);\n\n//   const handleSubmit = (e: React.FormEvent) => {\n//     e.preventDefault();\n//     if (inputMessage.trim() && !isGenerating && hasDocuments) {\n//       onSendMessage(inputMessage.trim());\n//       setInputMessage(\"\");\n//     }\n//   };\n\n//   const handleKeyDown = (e: React.KeyboardEvent) => {\n//     if (e.key === 'Enter' && !e.shiftKey) {\n//       e.preventDefault();\n//       handleSubmit(e);\n//     }\n//   };\n\n//   return (\n//     <div className=\"flex flex-col h-full bg-gradient-to-b from-white to-gray-50/50\">\n//       <div className=\"p-6 border-b border-gray-100/80 bg-white/70 backdrop-blur-sm\">\n//         <div className=\"flex items-center gap-4\">\n//           <div className=\"relative\">\n//             <div className=\"absolute inset-0 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl blur-sm opacity-20\"></div>\n//             <div className=\"relative p-3 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl shadow-lg\">\n//               <MessageSquare className=\"h-6 w-6 text-white\" />\n//             </div>\n//           </div>\n//           <div className=\"flex-1\">\n//             <h2 className=\"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent\">\n//               AI Assistant\n//             </h2>\n//             <p className=\"text-sm text-gray-500 flex items-center gap-2\">\n//               <Sparkles className=\"h-3 w-3\" />\n//               {hasDocuments \n//                 ? \"Ready to answer questions about your documents\" \n//                 : \"Upload documents to start an intelligent conversation\"\n//               }\n//             </p>\n//           </div>\n//           <div className=\"flex items-center gap-2\">\n//             <div className={`w-2 h-2 rounded-full ${hasDocuments ? 'bg-green-400' : 'bg-amber-400'} animate-pulse`}></div>\n//             <span className=\"text-xs text-gray-500 font-medium\">\n//               {hasDocuments ? 'Ready' : 'Waiting'}\n//             </span>\n//           </div>\n//         </div>\n//       </div>\n\n//       <div className=\"flex-1 overflow-hidden\">\n//         <div className=\"h-full overflow-y-auto p-6 space-y-6\">\n//           {messages.length === 0 ? (\n//             <div className=\"flex flex-col items-center justify-center h-full text-center py-16\">\n//               <div className=\"relative mb-6\">\n//                 <div className=\"absolute inset-0 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-full blur-xl opacity-50\"></div>\n//                 <div className=\"relative w-20 h-20 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-full flex items-center justify-center border border-blue-100/50\">\n//                   <Bot className=\"h-10 w-10 text-blue-500\" />\n//                 </div>\n//               </div>\n//               <h3 className=\"text-2xl font-bold text-gray-900 mb-3\">\n//                 Welcome to DocuChat AI\n//               </h3>\n//               <p className=\"text-gray-500 max-w-md leading-relaxed\">\n//                 {hasDocuments \n//                   ? \"Your documents are ready! Start by asking me any questions about their content and I'll provide detailed insights.\"\n//                   : \"Upload your documents first, then I'll be ready to provide intelligent answers and insights about their content.\"\n//                 }\n//               </p>\n//               {hasDocuments && (\n//                 <div className=\"mt-6 p-4 bg-blue-50/50 rounded-xl border border-blue-100\">\n//                   <p className=\"text-sm text-blue-600 font-medium\">üí° Try asking questions like:</p>\n//                   <ul className=\"mt-2 text-xs text-blue-500 space-y-1\">\n//                     <li>‚Ä¢ \"What are the main topics covered?\"</li>\n//                     <li>‚Ä¢ \"Can you summarize the key points?\"</li>\n//                     <li>‚Ä¢ \"What specific details about [topic]?\"</li>\n//                   </ul>\n//                 </div>\n//               )}\n//             </div>\n//           ) : (\n//             <>\n//               {messages.map((message) => (\n//                 <div\n//                   key={message.id}\n//                   className={`flex gap-4 ${message.type === 'user' ? 'flex-row-reverse' : 'flex-row'} animate-fade-in`}\n//                 >\n//                   <div className={`flex-shrink-0 w-10 h-10 rounded-2xl flex items-center justify-center shadow-lg ${\n//                     message.type === 'user' \n//                       ? 'bg-gradient-to-r from-emerald-500 to-green-600' \n//                       : 'bg-gradient-to-r from-blue-500 to-indigo-600'\n//                   }`}>\n//                     {message.type === 'user' ? (\n//                       <User className=\"h-5 w-5 text-white\" />\n//                     ) : (\n//                       <Bot className=\"h-5 w-5 text-white\" />\n//                     )}\n//                   </div>\n\n//                   <div className={`flex-1 max-w-4xl ${message.type === 'user' ? 'text-right' : 'text-left'}`}>\n//                     <div className={`inline-block p-4 rounded-2xl shadow-sm ${\n//                       message.type === 'user'\n//                         ? 'bg-gradient-to-r from-emerald-500 to-green-600 text-white'\n//                         : 'bg-white text-gray-900 border border-gray-100'\n//                     }`}>\n//                       <p className=\"whitespace-pre-wrap leading-relaxed\">{message.content}</p>\n//                     </div>\n//                     <p className=\"text-xs text-gray-400 mt-2 px-3 flex items-center gap-1\">\n//                       <span className=\"w-1 h-1 bg-gray-300 rounded-full\"></span>\n//                       {message.timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n//                     </p>\n//                   </div>\n//                 </div>\n//               ))}\n\n//               {isGenerating && (\n//                 <div className=\"flex gap-4 animate-fade-in\">\n//                   <div className=\"flex-shrink-0 w-10 h-10 rounded-2xl bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg\">\n//                     <Bot className=\"h-5 w-5 text-white\" />\n//                   </div>\n\n//                   <div className=\"flex-1\">\n//                     <div className=\"inline-block p-4 bg-white rounded-2xl shadow-sm border border-gray-100\">\n//                       <div className=\"flex items-center gap-3 text-gray-600\">\n//                         <div className=\"flex space-x-1\">\n//                           <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\"></div>\n//                           <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\" style={{animationDelay: '0.1s'}}></div>\n//                           <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\" style={{animationDelay: '0.2s'}}></div>\n//                         </div>\n//                         <span className=\"text-sm font-medium\">AI is thinking...</span>\n//                       </div>\n//                     </div>\n//                   </div>\n//                 </div>\n//               )}\n//             </>\n//           )}\n//           <div ref={messagesEndRef} />\n//         </div>\n//       </div>\n\n//       <div className=\"p-6 border-t border-gray-100/80 bg-white/70 backdrop-blur-sm\">\n//         <form onSubmit={handleSubmit} className=\"space-y-4\">\n//           <div className=\"relative\">\n//             <Textarea\n//               ref={textareaRef}\n//               value={inputMessage}\n//               onChange={(e) => setInputMessage(e.target.value)}\n//               onKeyDown={handleKeyDown}\n//               placeholder={hasDocuments ? \"Ask anything about your documents...\" : \"Upload documents first to start chatting\"}\n//               disabled={!hasDocuments || isGenerating}\n//               className=\"min-h-[60px] max-h-32 resize-none pr-14 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-300 border-gray-200 bg-white/80 backdrop-blur-sm shadow-sm rounded-xl\"\n//             />\n//             <Button\n//               type=\"submit\"\n//               size=\"sm\"\n//               disabled={!inputMessage.trim() || !hasDocuments || isGenerating}\n//               className=\"absolute bottom-3 right-3 h-8 w-8 p-0 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-lg hover:shadow-xl transition-all duration-200 rounded-lg\"\n//             >\n//               <Send className=\"h-4 w-4\" />\n//             </Button>\n//           </div>\n\n//           {!hasDocuments && (\n//             <div className=\"flex items-center gap-2 p-3 bg-amber-50/80 border border-amber-200 rounded-xl\">\n//               <div className=\"w-2 h-2 bg-amber-400 rounded-full animate-pulse\"></div>\n//               <p className=\"text-sm text-amber-700 font-medium\">\n//                 Please upload documents to enable the chat functionality\n//               </p>\n//             </div>\n//           )}\n//         </form>\n//       </div>\n//     </div>\n//   );\n// };\n\n// // Main App Component\n// const ConsolidatedApp = () => {\n//   const [uploadedFiles, setUploadedFiles] = useState<UploadedFile[]>([]);\n//   const [chatMessages, setChatMessages] = useState<ChatMessage[]>([]);\n//   const [isUploading, setIsUploading] = useState(false);\n//   const [isGenerating, setIsGenerating] = useState(false);\n\n//   const handleFileUpload = async (files: File[]) => {\n//     setIsUploading(true);\n\n//     // Simulate API call delay\n//     await new Promise(resolve => setTimeout(resolve, 2000));\n\n//     const newFiles: UploadedFile[] = files.map(file => ({\n//       id: Math.random().toString(36).substr(2, 9),\n//       name: file.name,\n//       size: file.size,\n//       type: file.type,\n//       uploadedAt: new Date(),\n//     }));\n\n//     setUploadedFiles(prev => [...prev, ...newFiles]);\n//     setIsUploading(false);\n//   };\n\n//   const handleSendMessage = async (message: string) => {\n//     if (!message.trim()) return;\n\n//     const userMessage: ChatMessage = {\n//       id: Math.random().toString(36).substr(2, 9),\n//       type: 'user',\n//       content: message,\n//       timestamp: new Date(),\n//     };\n\n//     setChatMessages(prev => [...prev, userMessage]);\n//     setIsGenerating(true);\n\n//     // Simulate API call delay\n//     await new Promise(resolve => setTimeout(resolve, 3000));\n\n//     const botMessage: ChatMessage = {\n//       id: Math.random().toString(36).substr(2, 9),\n//       type: 'bot',\n//       content: \"I understand your question about the uploaded documents. This is a simulated response. In a real implementation, this would be connected to your Flask backend API to process the documents and generate intelligent responses based on their content.\",\n//       timestamp: new Date(),\n//     };\n\n//     setChatMessages(prev => [...prev, botMessage]);\n//     setIsGenerating(false);\n//   };\n\n//   const handleDeleteFile = (fileId: string) => {\n//     setUploadedFiles(prev => prev.filter(file => file.id !== fileId));\n//   };\n\n//   return (\n//     <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100\">\n//       <Header />\n\n//       <div className=\"container mx-auto px-4 py-8 max-w-7xl\">\n//         <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8 h-[calc(100vh-12rem)]\">\n//           <div className=\"lg:col-span-1\">\n//             <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 h-full overflow-hidden\">\n//               <div className=\"p-6 border-b border-gray-100\">\n//                 <div className=\"flex items-center gap-3\">\n//                   <div className=\"p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg\">\n//                     <FileText className=\"h-5 w-5 text-white\" />\n//                   </div>\n//                   <div>\n//                     <h2 className=\"text-lg font-semibold text-gray-900\">Documents</h2>\n//                     <p className=\"text-sm text-gray-500\">{uploadedFiles.length} files uploaded</p>\n//                   </div>\n//                 </div>\n//               </div>\n\n//               <div className=\"p-6 h-full overflow-y-auto\">\n//                 <DocumentUpload\n//                   onFileUpload={handleFileUpload}\n//                   uploadedFiles={uploadedFiles}\n//                   onDeleteFile={handleDeleteFile}\n//                   isUploading={isUploading}\n//                 />\n//               </div>\n//             </div>\n//           </div>\n\n//           <div className=\"lg:col-span-2\">\n//             <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 h-full\">\n//               <ChatInterface\n//                 messages={chatMessages}\n//                 onSendMessage={handleSendMessage}\n//                 isGenerating={isGenerating}\n//                 hasDocuments={uploadedFiles.length > 0}\n//               />\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default ConsolidatedApp;\n\nimport React, { useState, useRef, useEffect, useCallback } from \"react\";\nimport { Send, Bot, User, MessageSquare, Loader, Sparkles, Upload, X, CheckCircle, AlertCircle, FileText, RefreshCw } from \"lucide-react\";\n\n// API Configuration\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:5000'; // Adjust this to your Flask server URL\n\n// Types\n\n// API Functions\nconst uploadFileToBackend = async file => {\n  const formData = new FormData();\n  formData.append('file', file);\n  const response = await fetch(`${API_BASE_URL}/upload`, {\n    method: 'POST',\n    body: formData\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.error || 'Upload failed');\n  }\n  return response.json();\n};\nconst sendMessageToBackend = async question => {\n  const response = await fetch(`${API_BASE_URL}/ask`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      question\n    })\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.error || 'Failed to get response');\n  }\n  return response.json();\n};\nconst clearChatMemory = async () => {\n  const response = await fetch(`${API_BASE_URL}/clear`, {\n    method: 'POST'\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.error || 'Failed to clear memory');\n  }\n  return response.json();\n};\n\n// Basic UI Components\nconst Button = /*#__PURE__*/React.forwardRef(_c = ({\n  className = \"\",\n  variant = \"default\",\n  size = \"default\",\n  ...props\n}, ref) => {\n  const baseClasses = \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:pointer-events-none disabled:opacity-50\";\n  const variantClasses = {\n    default: \"bg-blue-600 text-white hover:bg-blue-700\",\n    ghost: \"hover:bg-gray-100 hover:text-gray-900\",\n    outline: \"border border-gray-300 bg-white hover:bg-gray-50\"\n  };\n  const sizeClasses = {\n    default: \"h-10 px-4 py-2\",\n    sm: \"h-9 rounded-md px-3\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: `${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`,\n    ref: ref,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 642,\n    columnNumber: 5\n  }, this);\n});\n_c2 = Button;\nconst Textarea = /*#__PURE__*/React.forwardRef(_c3 = ({\n  className = \"\",\n  ...props\n}, ref) => /*#__PURE__*/_jsxDEV(\"textarea\", {\n  className: `flex min-h-[80px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${className}`,\n  ref: ref,\n  ...props\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 654,\n  columnNumber: 3\n}, this));\n\n// Header Component\n_c4 = Textarea;\nconst Header = ({\n  onClearChat\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"bg-white/90 backdrop-blur-md border-b border-gray-200/50 sticky top-0 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl blur-sm opacity-75\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 669,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative p-3 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl\",\n              children: /*#__PURE__*/_jsxDEV(Bot, {\n                className: \"h-6 w-6 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 671,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 670,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent\",\n              children: \"DocuChat AI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 675,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n                className: \"h-3 w-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 17\n              }, this), \"Intelligent Document Assistant\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 678,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline\",\n          size: \"sm\",\n          onClick: onClearChat,\n          className: \"gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 13\n          }, this), \"Clear Chat\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 685,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 665,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 664,\n    columnNumber: 5\n  }, this);\n};\n\n// Document Upload Component\n_c5 = Header;\nconst DocumentUpload = ({\n  onFileUpload,\n  uploadedFiles,\n  onDeleteFile,\n  isUploading\n}) => {\n  _s();\n  const [isDragOver, setIsDragOver] = useState(false);\n  const handleDragOver = useCallback(e => {\n    e.preventDefault();\n    setIsDragOver(true);\n  }, []);\n  const handleDragLeave = useCallback(e => {\n    e.preventDefault();\n    setIsDragOver(false);\n  }, []);\n  const handleDrop = useCallback(e => {\n    e.preventDefault();\n    setIsDragOver(false);\n    const files = Array.from(e.dataTransfer.files);\n    if (files.length > 0) {\n      onFileUpload(files);\n    }\n  }, [onFileUpload]);\n  const handleFileSelect = useCallback(e => {\n    const files = Array.from(e.target.files || []);\n    if (files.length > 0) {\n      onFileUpload(files);\n    }\n    e.target.value = '';\n  }, [onFileUpload]);\n  const formatFileSize = bytes => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n  const getFileIcon = type => {\n    if (type.includes('pdf')) return 'üìÑ';\n    if (type.includes('word') || type.includes('document')) return 'üìù';\n    if (type.includes('text')) return 'üìã';\n    if (type.includes('image')) return 'üñºÔ∏è';\n    return 'üìÅ';\n  };\n  const getStatusIcon = status => {\n    switch (status) {\n      case 'uploading':\n        return /*#__PURE__*/_jsxDEV(Loader, {\n          className: \"h-4 w-4 text-blue-500 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 756,\n          columnNumber: 16\n        }, this);\n      case 'processed':\n        return /*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"h-4 w-4 text-green-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 758,\n          columnNumber: 16\n        }, this);\n      case 'error':\n        return /*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"h-4 w-4 text-red-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 760,\n          columnNumber: 16\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `\n          relative border-2 border-dashed rounded-xl p-8 text-center transition-all duration-300\n          ${isDragOver ? 'border-blue-400 bg-blue-50 scale-105' : 'border-gray-300 hover:border-gray-400 hover:bg-gray-50'}\n          ${isUploading ? 'pointer-events-none opacity-50' : 'cursor-pointer'}\n        `,\n      onDragOver: handleDragOver,\n      onDragLeave: handleDragLeave,\n      onDrop: handleDrop,\n      onClick: () => {\n        var _document$getElementB;\n        return (_document$getElementB = document.getElementById('file-input')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.click();\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"file-input\",\n        type: \"file\",\n        multiple: true,\n        className: \"hidden\",\n        onChange: handleFileSelect,\n        accept: \".pdf,.doc,.docx,.txt,.rtf,.odt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 782,\n        columnNumber: 9\n      }, this), isUploading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center\",\n          children: /*#__PURE__*/_jsxDEV(Loader, {\n            className: \"h-12 w-12 text-blue-500 animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 794,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 793,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-medium text-gray-900\",\n            children: \"Processing documents...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 797,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Please wait while we analyze your files\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 798,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 796,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 792,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-4 rounded-full transition-colors duration-300 ${isDragOver ? 'bg-blue-100' : 'bg-gray-100'}`,\n            children: /*#__PURE__*/_jsxDEV(Upload, {\n              className: `h-8 w-8 transition-colors duration-300 ${isDragOver ? 'text-blue-500' : 'text-gray-400'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 807,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 804,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 803,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-medium text-gray-900\",\n            children: isDragOver ? 'Drop your files here' : 'Upload your documents'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 813,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mt-1\",\n            children: \"Drag and drop or click to browse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 816,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-400 mt-2\",\n            children: \"Supports PDF, DOC, DOCX, TXT files\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 819,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 812,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 802,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 768,\n      columnNumber: 7\n    }, this), uploadedFiles.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-sm font-medium text-gray-700 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(FileText, {\n          className: \"h-4 w-4 text-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 830,\n          columnNumber: 13\n        }, this), \"Documents (\", uploadedFiles.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 829,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2 max-h-64 overflow-y-auto\",\n        children: uploadedFiles.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between p-3 bg-gray-50 rounded-lg border hover:bg-gray-100 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3 flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg\",\n              children: getFileIcon(file.type)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 841,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 min-w-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-900 truncate\",\n                children: file.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 843,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: [formatFileSize(file.size), \" \\u2022 \", file.uploadedAt.toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 846,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 842,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [getStatusIcon(file.status), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-500 capitalize\",\n                children: file.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 852,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 850,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 840,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"ghost\",\n            size: \"sm\",\n            onClick: () => onDeleteFile(file.id),\n            className: \"text-gray-400 hover:text-red-500 h-8 w-8 p-0\",\n            disabled: file.status === 'uploading',\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 863,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 856,\n            columnNumber: 17\n          }, this)]\n        }, file.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 836,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 834,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 828,\n      columnNumber: 9\n    }, this), uploadedFiles.length === 0 && !isUploading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8\",\n      children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n        className: \"h-8 w-8 text-gray-300 mx-auto mb-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 873,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500\",\n        children: \"No documents uploaded yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 874,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-400 mt-1\",\n        children: \"Upload some documents to start chatting\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 875,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 872,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 767,\n    columnNumber: 5\n  }, this);\n};\n\n// Chat Interface Component\n_s(DocumentUpload, \"UkK9PDj8B6ilKqdeJq3ocnok1bo=\");\n_c6 = DocumentUpload;\nconst ChatInterface = ({\n  messages,\n  onSendMessage,\n  isGenerating,\n  hasDocuments,\n  error\n}) => {\n  _s2();\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (inputMessage.trim() && !isGenerating && hasDocuments) {\n      onSendMessage(inputMessage.trim());\n      setInputMessage(\"\");\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-full bg-gradient-to-b from-white to-gray-50/50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6 border-b border-gray-100/80 bg-white/70 backdrop-blur-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl blur-sm opacity-20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 922,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative p-3 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl shadow-lg\",\n            children: /*#__PURE__*/_jsxDEV(MessageSquare, {\n              className: \"h-6 w-6 text-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 924,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 923,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 921,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent\",\n            children: \"AI Assistant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 928,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n              className: \"h-3 w-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 932,\n              columnNumber: 15\n            }, this), hasDocuments ? \"Ready to answer questions about your documents\" : \"Upload documents to start an intelligent conversation\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 931,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 927,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-2 h-2 rounded-full ${hasDocuments ? 'bg-green-400' : 'bg-amber-400'} animate-pulse`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 940,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-gray-500 font-medium\",\n            children: hasDocuments ? 'Ready' : 'Waiting'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 941,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 939,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 920,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 919,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-full overflow-y-auto p-6 space-y-6\",\n        children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-red-50 border border-red-200 rounded-xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"h-5 w-5 text-red-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 953,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-red-800\",\n              children: \"Error\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 954,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 952,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-red-600 mt-1\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 956,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 951,\n          columnNumber: 13\n        }, this), messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center justify-center h-full text-center py-16\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-full blur-xl opacity-50\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 963,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative w-20 h-20 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-full flex items-center justify-center border border-blue-100/50\",\n              children: /*#__PURE__*/_jsxDEV(Bot, {\n                className: \"h-10 w-10 text-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 965,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 964,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 962,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold text-gray-900 mb-3\",\n            children: \"Welcome to DocuChat AI\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 968,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 max-w-md leading-relaxed\",\n            children: hasDocuments ? \"Your documents are processed and ready! Start by asking me any questions about their content and I'll provide detailed insights.\" : \"Upload your documents first, then I'll be ready to provide intelligent answers and insights about their content.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 971,\n            columnNumber: 15\n          }, this), hasDocuments && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 p-4 bg-blue-50/50 rounded-xl border border-blue-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-blue-600 font-medium\",\n              children: \"\\uD83D\\uDCA1 Try asking questions like:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 979,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"mt-2 text-xs text-blue-500 space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 \\\"What are the main topics covered?\\\"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 981,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 \\\"Can you summarize the key points?\\\"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 982,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 \\\"What specific details about [topic]?\\\"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 983,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 980,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 978,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 961,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex gap-4 ${message.type === 'user' ? 'flex-row-reverse' : 'flex-row'} animate-fade-in`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex-shrink-0 w-10 h-10 rounded-2xl flex items-center justify-center shadow-lg ${message.type === 'user' ? 'bg-gradient-to-r from-emerald-500 to-green-600' : 'bg-gradient-to-r from-blue-500 to-indigo-600'}`,\n              children: message.type === 'user' ? /*#__PURE__*/_jsxDEV(User, {\n                className: \"h-5 w-5 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1001,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(Bot, {\n                className: \"h-5 w-5 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1003,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 995,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex-1 max-w-4xl ${message.type === 'user' ? 'text-right' : 'text-left'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `inline-block p-4 rounded-2xl shadow-sm ${message.type === 'user' ? 'bg-gradient-to-r from-emerald-500 to-green-600 text-white' : 'bg-white text-gray-900 border border-gray-100'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"whitespace-pre-wrap leading-relaxed\",\n                  children: message.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1013,\n                  columnNumber: 23\n                }, this), message.sources && message.sources.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3 pt-3 border-t border-gray-200\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500 font-medium mb-2\",\n                    children: \"Sources:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1016,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-1\",\n                    children: message.sources.map((source, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-gray-600 bg-gray-50 rounded p-2\",\n                      children: [source.source && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium\",\n                        children: source.source\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1020,\n                        columnNumber: 51\n                      }, this), source.page && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"ml-2\",\n                        children: [\"Page \", source.page]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1021,\n                        columnNumber: 49\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1019,\n                      columnNumber: 31\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1017,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1015,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1008,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-400 mt-2 px-3 flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"w-1 h-1 bg-gray-300 rounded-full\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1029,\n                  columnNumber: 23\n                }, this), message.timestamp.toLocaleTimeString([], {\n                  hour: '2-digit',\n                  minute: '2-digit'\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1028,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1007,\n              columnNumber: 19\n            }, this)]\n          }, message.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 991,\n            columnNumber: 17\n          }, this)), isGenerating && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4 animate-fade-in\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 w-10 h-10 rounded-2xl bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg\",\n              children: /*#__PURE__*/_jsxDEV(Bot, {\n                className: \"h-5 w-5 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1039,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1038,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inline-block p-4 bg-white rounded-2xl shadow-sm border border-gray-100\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-3 text-gray-600\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex space-x-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-2 h-2 bg-blue-500 rounded-full animate-bounce\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1046,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-2 h-2 bg-blue-500 rounded-full animate-bounce\",\n                      style: {\n                        animationDelay: '0.1s'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1047,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-2 h-2 bg-blue-500 rounded-full animate-bounce\",\n                      style: {\n                        animationDelay: '0.2s'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1048,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1045,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-medium\",\n                    children: \"AI is analyzing your documents...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1050,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1044,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1043,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1042,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1037,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1058,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 949,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 948,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6 border-t border-gray-100/80 bg-white/70 backdrop-blur-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(Textarea, {\n            ref: textareaRef,\n            value: inputMessage,\n            onChange: e => setInputMessage(e.target.value),\n            onKeyDown: handleKeyDown,\n            placeholder: hasDocuments ? \"Ask anything about your documents...\" : \"Upload documents first to start chatting\",\n            disabled: !hasDocuments || isGenerating,\n            className: \"min-h-[60px] max-h-32 resize-none pr-14 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-300 border-gray-200 bg-white/80 backdrop-blur-sm shadow-sm rounded-xl\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1065,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            size: \"sm\",\n            disabled: !inputMessage.trim() || !hasDocuments || isGenerating,\n            className: \"absolute bottom-3 right-3 h-8 w-8 p-0 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-lg hover:shadow-xl transition-all duration-200 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(Send, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1080,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1074,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1064,\n          columnNumber: 11\n        }, this), !hasDocuments && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 p-3 bg-amber-50/80 border border-amber-200 rounded-xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2 h-2 bg-amber-400 rounded-full animate-pulse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1086,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-amber-700 font-medium\",\n            children: \"Please upload and process documents to enable the chat functionality\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1087,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1085,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1063,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1062,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 918,\n    columnNumber: 5\n  }, this);\n};\n\n// Main App Component\n_s2(ChatInterface, \"n6+BJDJE13M1NAOiE8YQ2rXDUng=\");\n_c7 = ChatInterface;\nconst ConsolidatedApp = () => {\n  _s3();\n  const [uploadedFiles, setUploadedFiles] = useState([]);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [isUploading, setIsUploading] = useState(false);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [error, setError] = useState(null);\n  const handleFileUpload = async files => {\n    setIsUploading(true);\n    setError(null);\n\n    // Create initial file entries\n    const newFiles = files.map(file => ({\n      id: Math.random().toString(36).substr(2, 9),\n      name: file.name,\n      size: file.size,\n      type: file.type,\n      uploadedAt: new Date(),\n      status: 'uploading'\n    }));\n    setUploadedFiles(prev => [...prev, ...newFiles]);\n\n    // Upload files to backend\n    try {\n      const uploadPromises = files.map(async (file, index) => {\n        try {\n          await uploadFileToBackend(file);\n          // Update file status to processed\n          setUploadedFiles(prev => prev.map(f => f.id === newFiles[index].id ? {\n            ...f,\n            status: 'processed'\n          } : f));\n        } catch (error) {\n          console.error(`Failed to upload ${file.name}:`, error);\n          // Update file status to error\n          setUploadedFiles(prev => prev.map(f => f.id === newFiles[index].id ? {\n            ...f,\n            status: 'error'\n          } : f));\n          throw error;\n        }\n      });\n      await Promise.all(uploadPromises);\n    } catch (error) {\n      setError(`Upload failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n  const handleSendMessage = async message => {\n    if (!message.trim()) return;\n    const userMessage = {\n      id: Math.random().toString(36).substr(2, 9),\n      type: 'user',\n      content: message,\n      timestamp: new Date()\n    };\n    setChatMessages(prev => [...prev, userMessage]);\n    setIsGenerating(true);\n    setError(null);\n    try {\n      const response = await sendMessageToBackend(message);\n      const botMessage = {\n        id: Math.random().toString(36).substr(2, 9),\n        type: 'bot',\n        content: response.answer,\n        timestamp: new Date(),\n        sources: response.sources\n      };\n      setChatMessages(prev => [...prev, botMessage]);\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : 'Failed to get response';\n      setError(errorMessage);\n      const botMessage = {\n        id: Math.random().toString(36).substr(2, 9),\n        type: 'bot',\n        content: `Sorry, I encountered an error: ${errorMessage}. Please try again.`,\n        timestamp: new Date()\n      };\n      setChatMessages(prev => [...prev, botMessage]);\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  const handleDeleteFile = fileId => {\n    setUploadedFiles(prev => prev.filter(file => file.id !== fileId));\n  };\n  const handleClearChat = async () => {\n    try {\n      await clearChatMemory();\n      setChatMessages([]);\n      setError(null);\n    } catch (error) {\n      setError(`Failed to clear chat: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  };\n  const hasProcessedDocuments = uploadedFiles.some(file => file.status === 'processed');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      onClearChat: handleClearChat\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1218,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-8 max-w-7xl\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-8 h-[calc(100vh-12rem)]\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 h-full overflow-hidden\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6 border-b border-gray-100\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg\",\n                  children: /*#__PURE__*/_jsxDEV(FileText, {\n                    className: \"h-5 w-5 text-white\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1227,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1226,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: \"text-lg font-semibold text-gray-900\",\n                    children: \"Documents\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1230,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500\",\n                    children: [uploadedFiles.length, \" files \\u2022 \", uploadedFiles.filter(f => f.status === 'processed').length, \" processed\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1231,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1229,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1225,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6 h-full overflow-y-auto\",\n              children: /*#__PURE__*/_jsxDEV(DocumentUpload, {\n                onFileUpload: handleFileUpload,\n                uploadedFiles: uploadedFiles,\n                onDeleteFile: handleDeleteFile,\n                isUploading: isUploading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1240,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1239,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1223,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 h-full\",\n            children: /*#__PURE__*/_jsxDEV(ChatInterface, {\n              messages: chatMessages,\n              onSendMessage: handleSendMessage,\n              isGenerating: isGenerating,\n              hasDocuments: hasProcessedDocuments,\n              error: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1252,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1251,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1250,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1221,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1220,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1217,\n    columnNumber: 5\n  }, this);\n};\n_s3(ConsolidatedApp, \"Vt7RTrcCJLhxV/qpSyz0e9bd/Nc=\");\n_c8 = ConsolidatedApp;\nexport default ConsolidatedApp;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"Button$React.forwardRef\");\n$RefreshReg$(_c2, \"Button\");\n$RefreshReg$(_c3, \"Textarea$React.forwardRef\");\n$RefreshReg$(_c4, \"Textarea\");\n$RefreshReg$(_c5, \"Header\");\n$RefreshReg$(_c6, \"DocumentUpload\");\n$RefreshReg$(_c7, \"ChatInterface\");\n$RefreshReg$(_c8, \"ConsolidatedApp\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","Send","Bot","User","MessageSquare","Loader","Sparkles","Upload","X","CheckCircle","AlertCircle","FileText","RefreshCw","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","uploadFileToBackend","file","formData","FormData","append","response","fetch","method","body","ok","error","json","Error","sendMessageToBackend","question","headers","JSON","stringify","clearChatMemory","Button","forwardRef","_c","className","variant","size","props","ref","baseClasses","variantClasses","default","ghost","outline","sizeClasses","sm","fileName","_jsxFileName","lineNumber","columnNumber","_c2","Textarea","_c3","_c4","Header","onClearChat","children","onClick","_c5","DocumentUpload","onFileUpload","uploadedFiles","onDeleteFile","isUploading","_s","isDragOver","setIsDragOver","handleDragOver","e","preventDefault","handleDragLeave","handleDrop","files","Array","from","dataTransfer","length","handleFileSelect","target","value","formatFileSize","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","getFileIcon","type","includes","getStatusIcon","status","onDragOver","onDragLeave","onDrop","_document$getElementB","document","getElementById","click","id","multiple","onChange","accept","map","name","uploadedAt","toLocaleDateString","disabled","_c6","ChatInterface","messages","onSendMessage","isGenerating","hasDocuments","_s2","inputMessage","setInputMessage","messagesEndRef","textareaRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSubmit","trim","handleKeyDown","key","shiftKey","message","content","sources","source","index","page","timestamp","toLocaleTimeString","hour","minute","style","animationDelay","onSubmit","onKeyDown","placeholder","_c7","ConsolidatedApp","_s3","setUploadedFiles","chatMessages","setChatMessages","setIsUploading","setIsGenerating","setError","handleFileUpload","newFiles","random","toString","substr","Date","prev","uploadPromises","f","console","Promise","all","handleSendMessage","userMessage","botMessage","answer","errorMessage","handleDeleteFile","fileId","filter","handleClearChat","hasProcessedDocuments","some","_c8","$RefreshReg$"],"sources":["D:/AIprojects/RagChatbot/frontend/src/ConsolidatedApp.tsx"],"sourcesContent":["// import React, { useState, useRef, useEffect, useCallback } from \"react\";\r\n// import { Send, Bot, User, MessageSquare, Loader, Sparkles, Upload, File, X, CheckCircle, AlertCircle, FileText } from \"lucide-react\";\r\n\r\n// // Types\r\n// export interface UploadedFile {\r\n//   id: string;\r\n//   name: string;\r\n//   size: number;\r\n//   type: string;\r\n//   uploadedAt: Date;\r\n// }\r\n\r\n// export interface ChatMessage {\r\n//   id: string;\r\n//   type: 'user' | 'bot';\r\n//   content: string;\r\n//   timestamp: Date;\r\n// }\r\n\r\n// // Basic UI Components\r\n// const Button = React.forwardRef<\r\n//   HTMLButtonElement,\r\n//   React.ButtonHTMLAttributes<HTMLButtonElement> & {\r\n//     variant?: \"default\" | \"ghost\";\r\n//     size?: \"default\" | \"sm\";\r\n//   }\r\n// >(({ className = \"\", variant = \"default\", size = \"default\", ...props }, ref) => {\r\n//   const baseClasses = \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:pointer-events-none disabled:opacity-50\";\r\n//   const variantClasses = {\r\n//     default: \"bg-blue-600 text-white hover:bg-blue-700\",\r\n//     ghost: \"hover:bg-gray-100 hover:text-gray-900\"\r\n//   };\r\n//   const sizeClasses = {\r\n//     default: \"h-10 px-4 py-2\",\r\n//     sm: \"h-9 rounded-md px-3\"\r\n//   };\r\n  \r\n//   return (\r\n//     <button\r\n//       className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`}\r\n//       ref={ref}\r\n//       {...props}\r\n//     />\r\n//   );\r\n// });\r\n\r\n// const Textarea = React.forwardRef<\r\n//   HTMLTextAreaElement,\r\n//   React.TextareaHTMLAttributes<HTMLTextAreaElement>\r\n// >(({ className = \"\", ...props }, ref) => (\r\n//   <textarea\r\n//     className={`flex min-h-[80px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${className}`}\r\n//     ref={ref}\r\n//     {...props}\r\n//   />\r\n// ));\r\n\r\n// // Header Component\r\n// const Header = () => {\r\n//   return (\r\n//     <header className=\"bg-white/90 backdrop-blur-md border-b border-gray-200/50 sticky top-0 z-50\">\r\n//       <div className=\"container mx-auto px-4 py-4\">\r\n//         <div className=\"flex items-center gap-3\">\r\n//           <div className=\"flex items-center gap-3\">\r\n//             <div className=\"relative\">\r\n//               <div className=\"absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl blur-sm opacity-75\"></div>\r\n//               <div className=\"relative p-3 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl\">\r\n//                 <Bot className=\"h-6 w-6 text-white\" />\r\n//               </div>\r\n//             </div>\r\n//             <div>\r\n//               <h1 className=\"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent\">\r\n//                 DocuChat AI\r\n//               </h1>\r\n//               <p className=\"text-sm text-gray-500 flex items-center gap-1\">\r\n//                 <Sparkles className=\"h-3 w-3\" />\r\n//                 Intelligent Document Assistant\r\n//               </p>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     </header>\r\n//   );\r\n// };\r\n\r\n// // Document Upload Component\r\n// const DocumentUpload = ({ onFileUpload, uploadedFiles, onDeleteFile, isUploading }: {\r\n//   onFileUpload: (files: File[]) => void;\r\n//   uploadedFiles: UploadedFile[];\r\n//   onDeleteFile: (fileId: string) => void;\r\n//   isUploading: boolean;\r\n// }) => {\r\n//   const [isDragOver, setIsDragOver] = useState(false);\r\n\r\n//   const handleDragOver = useCallback((e: React.DragEvent) => {\r\n//     e.preventDefault();\r\n//     setIsDragOver(true);\r\n//   }, []);\r\n\r\n//   const handleDragLeave = useCallback((e: React.DragEvent) => {\r\n//     e.preventDefault();\r\n//     setIsDragOver(false);\r\n//   }, []);\r\n\r\n//   const handleDrop = useCallback((e: React.DragEvent) => {\r\n//     e.preventDefault();\r\n//     setIsDragOver(false);\r\n    \r\n//     const files = Array.from(e.dataTransfer.files);\r\n//     if (files.length > 0) {\r\n//       onFileUpload(files);\r\n//     }\r\n//   }, [onFileUpload]);\r\n\r\n//   const handleFileSelect = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n//     const files = Array.from(e.target.files || []);\r\n//     if (files.length > 0) {\r\n//       onFileUpload(files);\r\n//     }\r\n//     e.target.value = '';\r\n//   }, [onFileUpload]);\r\n\r\n//   const formatFileSize = (bytes: number) => {\r\n//     if (bytes === 0) return '0 Bytes';\r\n//     const k = 1024;\r\n//     const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n//     const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n//     return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n//   };\r\n\r\n//   const getFileIcon = (type: string) => {\r\n//     if (type.includes('pdf')) return 'üìÑ';\r\n//     if (type.includes('word') || type.includes('document')) return 'üìù';\r\n//     if (type.includes('text')) return 'üìã';\r\n//     if (type.includes('image')) return 'üñºÔ∏è';\r\n//     return 'üìÅ';\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"space-y-6\">\r\n//       <div\r\n//         className={`\r\n//           relative border-2 border-dashed rounded-xl p-8 text-center transition-all duration-300\r\n//           ${isDragOver \r\n//             ? 'border-blue-400 bg-blue-50 scale-105' \r\n//             : 'border-gray-300 hover:border-gray-400 hover:bg-gray-50'\r\n//           }\r\n//           ${isUploading ? 'pointer-events-none opacity-50' : 'cursor-pointer'}\r\n//         `}\r\n//         onDragOver={handleDragOver}\r\n//         onDragLeave={handleDragLeave}\r\n//         onDrop={handleDrop}\r\n//         onClick={() => document.getElementById('file-input')?.click()}\r\n//       >\r\n//         <input\r\n//           id=\"file-input\"\r\n//           type=\"file\"\r\n//           multiple\r\n//           className=\"hidden\"\r\n//           onChange={handleFileSelect}\r\n//           accept=\".pdf,.doc,.docx,.txt,.rtf,.odt\"\r\n//         />\r\n        \r\n//         {isUploading ? (\r\n//           <div className=\"space-y-4\">\r\n//             <div className=\"flex justify-center\">\r\n//               <Loader className=\"h-12 w-12 text-blue-500 animate-spin\" />\r\n//             </div>\r\n//             <div>\r\n//               <p className=\"text-lg font-medium text-gray-900\">Uploading documents...</p>\r\n//               <p className=\"text-sm text-gray-500\">Please wait while we process your files</p>\r\n//             </div>\r\n//           </div>\r\n//         ) : (\r\n//           <div className=\"space-y-4\">\r\n//             <div className=\"flex justify-center\">\r\n//               <div className={`p-4 rounded-full transition-colors duration-300 ${\r\n//                 isDragOver ? 'bg-blue-100' : 'bg-gray-100'\r\n//               }`}>\r\n//                 <Upload className={`h-8 w-8 transition-colors duration-300 ${\r\n//                   isDragOver ? 'text-blue-500' : 'text-gray-400'\r\n//                 }`} />\r\n//               </div>\r\n//             </div>\r\n//             <div>\r\n//               <p className=\"text-lg font-medium text-gray-900\">\r\n//                 {isDragOver ? 'Drop your files here' : 'Upload your documents'}\r\n//               </p>\r\n//               <p className=\"text-sm text-gray-500 mt-1\">\r\n//                 Drag and drop or click to browse\r\n//               </p>\r\n//               <p className=\"text-xs text-gray-400 mt-2\">\r\n//                 Supports PDF, DOC, DOCX, TXT files\r\n//               </p>\r\n//             </div>\r\n//           </div>\r\n//         )}\r\n//       </div>\r\n\r\n//       {uploadedFiles.length > 0 && (\r\n//         <div className=\"space-y-3\">\r\n//           <h3 className=\"text-sm font-medium text-gray-700 flex items-center gap-2\">\r\n//             <CheckCircle className=\"h-4 w-4 text-green-500\" />\r\n//             Uploaded Files ({uploadedFiles.length})\r\n//           </h3>\r\n          \r\n//           <div className=\"space-y-2 max-h-64 overflow-y-auto\">\r\n//             {uploadedFiles.map((file) => (\r\n//               <div\r\n//                 key={file.id}\r\n//                 className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg border hover:bg-gray-100 transition-colors\"\r\n//               >\r\n//                 <div className=\"flex items-center gap-3 flex-1 min-w-0\">\r\n//                   <span className=\"text-lg\">{getFileIcon(file.type)}</span>\r\n//                   <div className=\"flex-1 min-w-0\">\r\n//                     <p className=\"text-sm font-medium text-gray-900 truncate\">\r\n//                       {file.name}\r\n//                     </p>\r\n//                     <p className=\"text-xs text-gray-500\">\r\n//                       {formatFileSize(file.size)} ‚Ä¢ {file.uploadedAt.toLocaleDateString()}\r\n//                     </p>\r\n//                   </div>\r\n//                 </div>\r\n                \r\n//                 <Button\r\n//                   variant=\"ghost\"\r\n//                   size=\"sm\"\r\n//                   onClick={() => onDeleteFile(file.id)}\r\n//                   className=\"text-gray-400 hover:text-red-500 h-8 w-8 p-0\"\r\n//                 >\r\n//                   <X className=\"h-4 w-4\" />\r\n//                 </Button>\r\n//               </div>\r\n//             ))}\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n\r\n//       {uploadedFiles.length === 0 && !isUploading && (\r\n//         <div className=\"text-center py-8\">\r\n//           <AlertCircle className=\"h-8 w-8 text-gray-300 mx-auto mb-3\" />\r\n//           <p className=\"text-sm text-gray-500\">No documents uploaded yet</p>\r\n//           <p className=\"text-xs text-gray-400 mt-1\">Upload some documents to start chatting</p>\r\n//         </div>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// // Chat Interface Component\r\n// const ChatInterface = ({ messages, onSendMessage, isGenerating, hasDocuments }: {\r\n//   messages: ChatMessage[];\r\n//   onSendMessage: (message: string) => void;\r\n//   isGenerating: boolean;\r\n//   hasDocuments: boolean;\r\n// }) => {\r\n//   const [inputMessage, setInputMessage] = useState(\"\");\r\n//   const messagesEndRef = useRef<HTMLDivElement>(null);\r\n//   const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n//   const scrollToBottom = () => {\r\n//     messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     scrollToBottom();\r\n//   }, [messages]);\r\n\r\n//   const handleSubmit = (e: React.FormEvent) => {\r\n//     e.preventDefault();\r\n//     if (inputMessage.trim() && !isGenerating && hasDocuments) {\r\n//       onSendMessage(inputMessage.trim());\r\n//       setInputMessage(\"\");\r\n//     }\r\n//   };\r\n\r\n//   const handleKeyDown = (e: React.KeyboardEvent) => {\r\n//     if (e.key === 'Enter' && !e.shiftKey) {\r\n//       e.preventDefault();\r\n//       handleSubmit(e);\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"flex flex-col h-full bg-gradient-to-b from-white to-gray-50/50\">\r\n//       <div className=\"p-6 border-b border-gray-100/80 bg-white/70 backdrop-blur-sm\">\r\n//         <div className=\"flex items-center gap-4\">\r\n//           <div className=\"relative\">\r\n//             <div className=\"absolute inset-0 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl blur-sm opacity-20\"></div>\r\n//             <div className=\"relative p-3 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl shadow-lg\">\r\n//               <MessageSquare className=\"h-6 w-6 text-white\" />\r\n//             </div>\r\n//           </div>\r\n//           <div className=\"flex-1\">\r\n//             <h2 className=\"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent\">\r\n//               AI Assistant\r\n//             </h2>\r\n//             <p className=\"text-sm text-gray-500 flex items-center gap-2\">\r\n//               <Sparkles className=\"h-3 w-3\" />\r\n//               {hasDocuments \r\n//                 ? \"Ready to answer questions about your documents\" \r\n//                 : \"Upload documents to start an intelligent conversation\"\r\n//               }\r\n//             </p>\r\n//           </div>\r\n//           <div className=\"flex items-center gap-2\">\r\n//             <div className={`w-2 h-2 rounded-full ${hasDocuments ? 'bg-green-400' : 'bg-amber-400'} animate-pulse`}></div>\r\n//             <span className=\"text-xs text-gray-500 font-medium\">\r\n//               {hasDocuments ? 'Ready' : 'Waiting'}\r\n//             </span>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n\r\n//       <div className=\"flex-1 overflow-hidden\">\r\n//         <div className=\"h-full overflow-y-auto p-6 space-y-6\">\r\n//           {messages.length === 0 ? (\r\n//             <div className=\"flex flex-col items-center justify-center h-full text-center py-16\">\r\n//               <div className=\"relative mb-6\">\r\n//                 <div className=\"absolute inset-0 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-full blur-xl opacity-50\"></div>\r\n//                 <div className=\"relative w-20 h-20 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-full flex items-center justify-center border border-blue-100/50\">\r\n//                   <Bot className=\"h-10 w-10 text-blue-500\" />\r\n//                 </div>\r\n//               </div>\r\n//               <h3 className=\"text-2xl font-bold text-gray-900 mb-3\">\r\n//                 Welcome to DocuChat AI\r\n//               </h3>\r\n//               <p className=\"text-gray-500 max-w-md leading-relaxed\">\r\n//                 {hasDocuments \r\n//                   ? \"Your documents are ready! Start by asking me any questions about their content and I'll provide detailed insights.\"\r\n//                   : \"Upload your documents first, then I'll be ready to provide intelligent answers and insights about their content.\"\r\n//                 }\r\n//               </p>\r\n//               {hasDocuments && (\r\n//                 <div className=\"mt-6 p-4 bg-blue-50/50 rounded-xl border border-blue-100\">\r\n//                   <p className=\"text-sm text-blue-600 font-medium\">üí° Try asking questions like:</p>\r\n//                   <ul className=\"mt-2 text-xs text-blue-500 space-y-1\">\r\n//                     <li>‚Ä¢ \"What are the main topics covered?\"</li>\r\n//                     <li>‚Ä¢ \"Can you summarize the key points?\"</li>\r\n//                     <li>‚Ä¢ \"What specific details about [topic]?\"</li>\r\n//                   </ul>\r\n//                 </div>\r\n//               )}\r\n//             </div>\r\n//           ) : (\r\n//             <>\r\n//               {messages.map((message) => (\r\n//                 <div\r\n//                   key={message.id}\r\n//                   className={`flex gap-4 ${message.type === 'user' ? 'flex-row-reverse' : 'flex-row'} animate-fade-in`}\r\n//                 >\r\n//                   <div className={`flex-shrink-0 w-10 h-10 rounded-2xl flex items-center justify-center shadow-lg ${\r\n//                     message.type === 'user' \r\n//                       ? 'bg-gradient-to-r from-emerald-500 to-green-600' \r\n//                       : 'bg-gradient-to-r from-blue-500 to-indigo-600'\r\n//                   }`}>\r\n//                     {message.type === 'user' ? (\r\n//                       <User className=\"h-5 w-5 text-white\" />\r\n//                     ) : (\r\n//                       <Bot className=\"h-5 w-5 text-white\" />\r\n//                     )}\r\n//                   </div>\r\n                  \r\n//                   <div className={`flex-1 max-w-4xl ${message.type === 'user' ? 'text-right' : 'text-left'}`}>\r\n//                     <div className={`inline-block p-4 rounded-2xl shadow-sm ${\r\n//                       message.type === 'user'\r\n//                         ? 'bg-gradient-to-r from-emerald-500 to-green-600 text-white'\r\n//                         : 'bg-white text-gray-900 border border-gray-100'\r\n//                     }`}>\r\n//                       <p className=\"whitespace-pre-wrap leading-relaxed\">{message.content}</p>\r\n//                     </div>\r\n//                     <p className=\"text-xs text-gray-400 mt-2 px-3 flex items-center gap-1\">\r\n//                       <span className=\"w-1 h-1 bg-gray-300 rounded-full\"></span>\r\n//                       {message.timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n//                     </p>\r\n//                   </div>\r\n//                 </div>\r\n//               ))}\r\n              \r\n//               {isGenerating && (\r\n//                 <div className=\"flex gap-4 animate-fade-in\">\r\n//                   <div className=\"flex-shrink-0 w-10 h-10 rounded-2xl bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg\">\r\n//                     <Bot className=\"h-5 w-5 text-white\" />\r\n//                   </div>\r\n                  \r\n//                   <div className=\"flex-1\">\r\n//                     <div className=\"inline-block p-4 bg-white rounded-2xl shadow-sm border border-gray-100\">\r\n//                       <div className=\"flex items-center gap-3 text-gray-600\">\r\n//                         <div className=\"flex space-x-1\">\r\n//                           <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\"></div>\r\n//                           <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\" style={{animationDelay: '0.1s'}}></div>\r\n//                           <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\" style={{animationDelay: '0.2s'}}></div>\r\n//                         </div>\r\n//                         <span className=\"text-sm font-medium\">AI is thinking...</span>\r\n//                       </div>\r\n//                     </div>\r\n//                   </div>\r\n//                 </div>\r\n//               )}\r\n//             </>\r\n//           )}\r\n//           <div ref={messagesEndRef} />\r\n//         </div>\r\n//       </div>\r\n\r\n//       <div className=\"p-6 border-t border-gray-100/80 bg-white/70 backdrop-blur-sm\">\r\n//         <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n//           <div className=\"relative\">\r\n//             <Textarea\r\n//               ref={textareaRef}\r\n//               value={inputMessage}\r\n//               onChange={(e) => setInputMessage(e.target.value)}\r\n//               onKeyDown={handleKeyDown}\r\n//               placeholder={hasDocuments ? \"Ask anything about your documents...\" : \"Upload documents first to start chatting\"}\r\n//               disabled={!hasDocuments || isGenerating}\r\n//               className=\"min-h-[60px] max-h-32 resize-none pr-14 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-300 border-gray-200 bg-white/80 backdrop-blur-sm shadow-sm rounded-xl\"\r\n//             />\r\n//             <Button\r\n//               type=\"submit\"\r\n//               size=\"sm\"\r\n//               disabled={!inputMessage.trim() || !hasDocuments || isGenerating}\r\n//               className=\"absolute bottom-3 right-3 h-8 w-8 p-0 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-lg hover:shadow-xl transition-all duration-200 rounded-lg\"\r\n//             >\r\n//               <Send className=\"h-4 w-4\" />\r\n//             </Button>\r\n//           </div>\r\n          \r\n//           {!hasDocuments && (\r\n//             <div className=\"flex items-center gap-2 p-3 bg-amber-50/80 border border-amber-200 rounded-xl\">\r\n//               <div className=\"w-2 h-2 bg-amber-400 rounded-full animate-pulse\"></div>\r\n//               <p className=\"text-sm text-amber-700 font-medium\">\r\n//                 Please upload documents to enable the chat functionality\r\n//               </p>\r\n//             </div>\r\n//           )}\r\n//         </form>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// // Main App Component\r\n// const ConsolidatedApp = () => {\r\n//   const [uploadedFiles, setUploadedFiles] = useState<UploadedFile[]>([]);\r\n//   const [chatMessages, setChatMessages] = useState<ChatMessage[]>([]);\r\n//   const [isUploading, setIsUploading] = useState(false);\r\n//   const [isGenerating, setIsGenerating] = useState(false);\r\n\r\n//   const handleFileUpload = async (files: File[]) => {\r\n//     setIsUploading(true);\r\n    \r\n//     // Simulate API call delay\r\n//     await new Promise(resolve => setTimeout(resolve, 2000));\r\n    \r\n//     const newFiles: UploadedFile[] = files.map(file => ({\r\n//       id: Math.random().toString(36).substr(2, 9),\r\n//       name: file.name,\r\n//       size: file.size,\r\n//       type: file.type,\r\n//       uploadedAt: new Date(),\r\n//     }));\r\n    \r\n//     setUploadedFiles(prev => [...prev, ...newFiles]);\r\n//     setIsUploading(false);\r\n//   };\r\n\r\n//   const handleSendMessage = async (message: string) => {\r\n//     if (!message.trim()) return;\r\n\r\n//     const userMessage: ChatMessage = {\r\n//       id: Math.random().toString(36).substr(2, 9),\r\n//       type: 'user',\r\n//       content: message,\r\n//       timestamp: new Date(),\r\n//     };\r\n\r\n//     setChatMessages(prev => [...prev, userMessage]);\r\n//     setIsGenerating(true);\r\n\r\n//     // Simulate API call delay\r\n//     await new Promise(resolve => setTimeout(resolve, 3000));\r\n\r\n//     const botMessage: ChatMessage = {\r\n//       id: Math.random().toString(36).substr(2, 9),\r\n//       type: 'bot',\r\n//       content: \"I understand your question about the uploaded documents. This is a simulated response. In a real implementation, this would be connected to your Flask backend API to process the documents and generate intelligent responses based on their content.\",\r\n//       timestamp: new Date(),\r\n//     };\r\n\r\n//     setChatMessages(prev => [...prev, botMessage]);\r\n//     setIsGenerating(false);\r\n//   };\r\n\r\n//   const handleDeleteFile = (fileId: string) => {\r\n//     setUploadedFiles(prev => prev.filter(file => file.id !== fileId));\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100\">\r\n//       <Header />\r\n      \r\n//       <div className=\"container mx-auto px-4 py-8 max-w-7xl\">\r\n//         <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8 h-[calc(100vh-12rem)]\">\r\n//           <div className=\"lg:col-span-1\">\r\n//             <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 h-full overflow-hidden\">\r\n//               <div className=\"p-6 border-b border-gray-100\">\r\n//                 <div className=\"flex items-center gap-3\">\r\n//                   <div className=\"p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg\">\r\n//                     <FileText className=\"h-5 w-5 text-white\" />\r\n//                   </div>\r\n//                   <div>\r\n//                     <h2 className=\"text-lg font-semibold text-gray-900\">Documents</h2>\r\n//                     <p className=\"text-sm text-gray-500\">{uploadedFiles.length} files uploaded</p>\r\n//                   </div>\r\n//                 </div>\r\n//               </div>\r\n              \r\n//               <div className=\"p-6 h-full overflow-y-auto\">\r\n//                 <DocumentUpload\r\n//                   onFileUpload={handleFileUpload}\r\n//                   uploadedFiles={uploadedFiles}\r\n//                   onDeleteFile={handleDeleteFile}\r\n//                   isUploading={isUploading}\r\n//                 />\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n\r\n//           <div className=\"lg:col-span-2\">\r\n//             <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 h-full\">\r\n//               <ChatInterface\r\n//                 messages={chatMessages}\r\n//                 onSendMessage={handleSendMessage}\r\n//                 isGenerating={isGenerating}\r\n//                 hasDocuments={uploadedFiles.length > 0}\r\n//               />\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default ConsolidatedApp;\r\n\r\n\r\n\r\nimport React, { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport { Send, Bot, User, MessageSquare, Loader, Sparkles, Upload, File, X, CheckCircle, AlertCircle, FileText, RefreshCw } from \"lucide-react\";\r\n\r\n// API Configuration\r\nconst API_BASE_URL = 'http://localhost:5000'; // Adjust this to your Flask server URL\r\n\r\n// Types\r\nexport interface UploadedFile {\r\n  id: string;\r\n  name: string;\r\n  size: number;\r\n  type: string;\r\n  uploadedAt: Date;\r\n  status: 'uploading' | 'processed' | 'error';\r\n}\r\n\r\nexport interface ChatMessage {\r\n  id: string;\r\n  type: 'user' | 'bot';\r\n  content: string;\r\n  timestamp: Date;\r\n  sources?: any[];\r\n}\r\n\r\n// API Functions\r\nconst uploadFileToBackend = async (file: File): Promise<void> => {\r\n  const formData = new FormData();\r\n  formData.append('file', file);\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/upload`, {\r\n    method: 'POST',\r\n    body: formData,\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const error = await response.json();\r\n    throw new Error(error.error || 'Upload failed');\r\n  }\r\n  \r\n  return response.json();\r\n};\r\n\r\nconst sendMessageToBackend = async (question: string): Promise<{answer: string, sources: any[]}> => {\r\n  const response = await fetch(`${API_BASE_URL}/ask`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ question }),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const error = await response.json();\r\n    throw new Error(error.error || 'Failed to get response');\r\n  }\r\n  \r\n  return response.json();\r\n};\r\n\r\nconst clearChatMemory = async (): Promise<void> => {\r\n  const response = await fetch(`${API_BASE_URL}/clear`, {\r\n    method: 'POST',\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const error = await response.json();\r\n    throw new Error(error.error || 'Failed to clear memory');\r\n  }\r\n  \r\n  return response.json();\r\n};\r\n\r\n// Basic UI Components\r\nconst Button = React.forwardRef<\r\n  HTMLButtonElement,\r\n  React.ButtonHTMLAttributes<HTMLButtonElement> & {\r\n    variant?: \"default\" | \"ghost\" | \"outline\";\r\n    size?: \"default\" | \"sm\";\r\n  }\r\n>(({ className = \"\", variant = \"default\", size = \"default\", ...props }, ref) => {\r\n  const baseClasses = \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:pointer-events-none disabled:opacity-50\";\r\n  const variantClasses = {\r\n    default: \"bg-blue-600 text-white hover:bg-blue-700\",\r\n    ghost: \"hover:bg-gray-100 hover:text-gray-900\",\r\n    outline: \"border border-gray-300 bg-white hover:bg-gray-50\"\r\n  };\r\n  const sizeClasses = {\r\n    default: \"h-10 px-4 py-2\",\r\n    sm: \"h-9 rounded-md px-3\"\r\n  };\r\n  \r\n  return (\r\n    <button\r\n      className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`}\r\n      ref={ref}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\n\r\nconst Textarea = React.forwardRef<\r\n  HTMLTextAreaElement,\r\n  React.TextareaHTMLAttributes<HTMLTextAreaElement>\r\n>(({ className = \"\", ...props }, ref) => (\r\n  <textarea\r\n    className={`flex min-h-[80px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${className}`}\r\n    ref={ref}\r\n    {...props}\r\n  />\r\n));\r\n\r\n// Header Component\r\nconst Header = ({ onClearChat }: { onClearChat: () => void }) => {\r\n  return (\r\n    <header className=\"bg-white/90 backdrop-blur-md border-b border-gray-200/50 sticky top-0 z-50\">\r\n      <div className=\"container mx-auto px-4 py-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"relative\">\r\n              <div className=\"absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl blur-sm opacity-75\"></div>\r\n              <div className=\"relative p-3 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl\">\r\n                <Bot className=\"h-6 w-6 text-white\" />\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent\">\r\n                DocuChat AI\r\n              </h1>\r\n              <p className=\"text-sm text-gray-500 flex items-center gap-1\">\r\n                <Sparkles className=\"h-3 w-3\" />\r\n                Intelligent Document Assistant\r\n              </p>\r\n            </div>\r\n          </div>\r\n          \r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={onClearChat}\r\n            className=\"gap-2\"\r\n          >\r\n            <RefreshCw className=\"h-4 w-4\" />\r\n            Clear Chat\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\n// Document Upload Component\r\nconst DocumentUpload = ({ onFileUpload, uploadedFiles, onDeleteFile, isUploading }: {\r\n  onFileUpload: (files: File[]) => void;\r\n  uploadedFiles: UploadedFile[];\r\n  onDeleteFile: (fileId: string) => void;\r\n  isUploading: boolean;\r\n}) => {\r\n  const [isDragOver, setIsDragOver] = useState(false);\r\n\r\n  const handleDragOver = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragOver(true);\r\n  }, []);\r\n\r\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragOver(false);\r\n  }, []);\r\n\r\n  const handleDrop = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragOver(false);\r\n    \r\n    const files = Array.from(e.dataTransfer.files);\r\n    if (files.length > 0) {\r\n      onFileUpload(files);\r\n    }\r\n  }, [onFileUpload]);\r\n\r\n  const handleFileSelect = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = Array.from(e.target.files || []);\r\n    if (files.length > 0) {\r\n      onFileUpload(files);\r\n    }\r\n    e.target.value = '';\r\n  }, [onFileUpload]);\r\n\r\n  const formatFileSize = (bytes: number) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  const getFileIcon = (type: string) => {\r\n    if (type.includes('pdf')) return 'üìÑ';\r\n    if (type.includes('word') || type.includes('document')) return 'üìù';\r\n    if (type.includes('text')) return 'üìã';\r\n    if (type.includes('image')) return 'üñºÔ∏è';\r\n    return 'üìÅ';\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'uploading':\r\n        return <Loader className=\"h-4 w-4 text-blue-500 animate-spin\" />;\r\n      case 'processed':\r\n        return <CheckCircle className=\"h-4 w-4 text-green-500\" />;\r\n      case 'error':\r\n        return <AlertCircle className=\"h-4 w-4 text-red-500\" />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div\r\n        className={`\r\n          relative border-2 border-dashed rounded-xl p-8 text-center transition-all duration-300\r\n          ${isDragOver \r\n            ? 'border-blue-400 bg-blue-50 scale-105' \r\n            : 'border-gray-300 hover:border-gray-400 hover:bg-gray-50'\r\n          }\r\n          ${isUploading ? 'pointer-events-none opacity-50' : 'cursor-pointer'}\r\n        `}\r\n        onDragOver={handleDragOver}\r\n        onDragLeave={handleDragLeave}\r\n        onDrop={handleDrop}\r\n        onClick={() => document.getElementById('file-input')?.click()}\r\n      >\r\n        <input\r\n          id=\"file-input\"\r\n          type=\"file\"\r\n          multiple\r\n          className=\"hidden\"\r\n          onChange={handleFileSelect}\r\n          accept=\".pdf,.doc,.docx,.txt,.rtf,.odt\"\r\n        />\r\n        \r\n        {isUploading ? (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex justify-center\">\r\n              <Loader className=\"h-12 w-12 text-blue-500 animate-spin\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-lg font-medium text-gray-900\">Processing documents...</p>\r\n              <p className=\"text-sm text-gray-500\">Please wait while we analyze your files</p>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex justify-center\">\r\n              <div className={`p-4 rounded-full transition-colors duration-300 ${\r\n                isDragOver ? 'bg-blue-100' : 'bg-gray-100'\r\n              }`}>\r\n                <Upload className={`h-8 w-8 transition-colors duration-300 ${\r\n                  isDragOver ? 'text-blue-500' : 'text-gray-400'\r\n                }`} />\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-lg font-medium text-gray-900\">\r\n                {isDragOver ? 'Drop your files here' : 'Upload your documents'}\r\n              </p>\r\n              <p className=\"text-sm text-gray-500 mt-1\">\r\n                Drag and drop or click to browse\r\n              </p>\r\n              <p className=\"text-xs text-gray-400 mt-2\">\r\n                Supports PDF, DOC, DOCX, TXT files\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {uploadedFiles.length > 0 && (\r\n        <div className=\"space-y-3\">\r\n          <h3 className=\"text-sm font-medium text-gray-700 flex items-center gap-2\">\r\n            <FileText className=\"h-4 w-4 text-blue-500\" />\r\n            Documents ({uploadedFiles.length})\r\n          </h3>\r\n          \r\n          <div className=\"space-y-2 max-h-64 overflow-y-auto\">\r\n            {uploadedFiles.map((file) => (\r\n              <div\r\n                key={file.id}\r\n                className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg border hover:bg-gray-100 transition-colors\"\r\n              >\r\n                <div className=\"flex items-center gap-3 flex-1 min-w-0\">\r\n                  <span className=\"text-lg\">{getFileIcon(file.type)}</span>\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <p className=\"text-sm font-medium text-gray-900 truncate\">\r\n                      {file.name}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500\">\r\n                      {formatFileSize(file.size)} ‚Ä¢ {file.uploadedAt.toLocaleDateString()}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    {getStatusIcon(file.status)}\r\n                    <span className=\"text-xs text-gray-500 capitalize\">{file.status}</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  onClick={() => onDeleteFile(file.id)}\r\n                  className=\"text-gray-400 hover:text-red-500 h-8 w-8 p-0\"\r\n                  disabled={file.status === 'uploading'}\r\n                >\r\n                  <X className=\"h-4 w-4\" />\r\n                </Button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {uploadedFiles.length === 0 && !isUploading && (\r\n        <div className=\"text-center py-8\">\r\n          <AlertCircle className=\"h-8 w-8 text-gray-300 mx-auto mb-3\" />\r\n          <p className=\"text-sm text-gray-500\">No documents uploaded yet</p>\r\n          <p className=\"text-xs text-gray-400 mt-1\">Upload some documents to start chatting</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Chat Interface Component\r\nconst ChatInterface = ({ messages, onSendMessage, isGenerating, hasDocuments, error }: {\r\n  messages: ChatMessage[];\r\n  onSendMessage: (message: string) => void;\r\n  isGenerating: boolean;\r\n  hasDocuments: boolean;\r\n  error: string | null;\r\n}) => {\r\n  const [inputMessage, setInputMessage] = useState(\"\");\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (inputMessage.trim() && !isGenerating && hasDocuments) {\r\n      onSendMessage(inputMessage.trim());\r\n      setInputMessage(\"\");\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSubmit(e);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full bg-gradient-to-b from-white to-gray-50/50\">\r\n      <div className=\"p-6 border-b border-gray-100/80 bg-white/70 backdrop-blur-sm\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <div className=\"relative\">\r\n            <div className=\"absolute inset-0 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl blur-sm opacity-20\"></div>\r\n            <div className=\"relative p-3 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl shadow-lg\">\r\n              <MessageSquare className=\"h-6 w-6 text-white\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"flex-1\">\r\n            <h2 className=\"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent\">\r\n              AI Assistant\r\n            </h2>\r\n            <p className=\"text-sm text-gray-500 flex items-center gap-2\">\r\n              <Sparkles className=\"h-3 w-3\" />\r\n              {hasDocuments \r\n                ? \"Ready to answer questions about your documents\" \r\n                : \"Upload documents to start an intelligent conversation\"\r\n              }\r\n            </p>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className={`w-2 h-2 rounded-full ${hasDocuments ? 'bg-green-400' : 'bg-amber-400'} animate-pulse`}></div>\r\n            <span className=\"text-xs text-gray-500 font-medium\">\r\n              {hasDocuments ? 'Ready' : 'Waiting'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex-1 overflow-hidden\">\r\n        <div className=\"h-full overflow-y-auto p-6 space-y-6\">\r\n          {error && (\r\n            <div className=\"p-4 bg-red-50 border border-red-200 rounded-xl\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <AlertCircle className=\"h-5 w-5 text-red-500\" />\r\n                <p className=\"text-sm font-medium text-red-800\">Error</p>\r\n              </div>\r\n              <p className=\"text-sm text-red-600 mt-1\">{error}</p>\r\n            </div>\r\n          )}\r\n\r\n          {messages.length === 0 ? (\r\n            <div className=\"flex flex-col items-center justify-center h-full text-center py-16\">\r\n              <div className=\"relative mb-6\">\r\n                <div className=\"absolute inset-0 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-full blur-xl opacity-50\"></div>\r\n                <div className=\"relative w-20 h-20 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-full flex items-center justify-center border border-blue-100/50\">\r\n                  <Bot className=\"h-10 w-10 text-blue-500\" />\r\n                </div>\r\n              </div>\r\n              <h3 className=\"text-2xl font-bold text-gray-900 mb-3\">\r\n                Welcome to DocuChat AI\r\n              </h3>\r\n              <p className=\"text-gray-500 max-w-md leading-relaxed\">\r\n                {hasDocuments \r\n                  ? \"Your documents are processed and ready! Start by asking me any questions about their content and I'll provide detailed insights.\"\r\n                  : \"Upload your documents first, then I'll be ready to provide intelligent answers and insights about their content.\"\r\n                }\r\n              </p>\r\n              {hasDocuments && (\r\n                <div className=\"mt-6 p-4 bg-blue-50/50 rounded-xl border border-blue-100\">\r\n                  <p className=\"text-sm text-blue-600 font-medium\">üí° Try asking questions like:</p>\r\n                  <ul className=\"mt-2 text-xs text-blue-500 space-y-1\">\r\n                    <li>‚Ä¢ \"What are the main topics covered?\"</li>\r\n                    <li>‚Ä¢ \"Can you summarize the key points?\"</li>\r\n                    <li>‚Ä¢ \"What specific details about [topic]?\"</li>\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <>\r\n              {messages.map((message) => (\r\n                <div\r\n                  key={message.id}\r\n                  className={`flex gap-4 ${message.type === 'user' ? 'flex-row-reverse' : 'flex-row'} animate-fade-in`}\r\n                >\r\n                  <div className={`flex-shrink-0 w-10 h-10 rounded-2xl flex items-center justify-center shadow-lg ${\r\n                    message.type === 'user' \r\n                      ? 'bg-gradient-to-r from-emerald-500 to-green-600' \r\n                      : 'bg-gradient-to-r from-blue-500 to-indigo-600'\r\n                  }`}>\r\n                    {message.type === 'user' ? (\r\n                      <User className=\"h-5 w-5 text-white\" />\r\n                    ) : (\r\n                      <Bot className=\"h-5 w-5 text-white\" />\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className={`flex-1 max-w-4xl ${message.type === 'user' ? 'text-right' : 'text-left'}`}>\r\n                    <div className={`inline-block p-4 rounded-2xl shadow-sm ${\r\n                      message.type === 'user'\r\n                        ? 'bg-gradient-to-r from-emerald-500 to-green-600 text-white'\r\n                        : 'bg-white text-gray-900 border border-gray-100'\r\n                    }`}>\r\n                      <p className=\"whitespace-pre-wrap leading-relaxed\">{message.content}</p>\r\n                      {message.sources && message.sources.length > 0 && (\r\n                        <div className=\"mt-3 pt-3 border-t border-gray-200\">\r\n                          <p className=\"text-xs text-gray-500 font-medium mb-2\">Sources:</p>\r\n                          <div className=\"space-y-1\">\r\n                            {message.sources.map((source, index) => (\r\n                              <div key={index} className=\"text-xs text-gray-600 bg-gray-50 rounded p-2\">\r\n                                {source.source && <span className=\"font-medium\">{source.source}</span>}\r\n                                {source.page && <span className=\"ml-2\">Page {source.page}</span>}\r\n                              </div>\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    <p className=\"text-xs text-gray-400 mt-2 px-3 flex items-center gap-1\">\r\n                      <span className=\"w-1 h-1 bg-gray-300 rounded-full\"></span>\r\n                      {message.timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              \r\n              {isGenerating && (\r\n                <div className=\"flex gap-4 animate-fade-in\">\r\n                  <div className=\"flex-shrink-0 w-10 h-10 rounded-2xl bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg\">\r\n                    <Bot className=\"h-5 w-5 text-white\" />\r\n                  </div>\r\n                  \r\n                  <div className=\"flex-1\">\r\n                    <div className=\"inline-block p-4 bg-white rounded-2xl shadow-sm border border-gray-100\">\r\n                      <div className=\"flex items-center gap-3 text-gray-600\">\r\n                        <div className=\"flex space-x-1\">\r\n                          <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\"></div>\r\n                          <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\" style={{animationDelay: '0.1s'}}></div>\r\n                          <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\" style={{animationDelay: '0.2s'}}></div>\r\n                        </div>\r\n                        <span className=\"text-sm font-medium\">AI is analyzing your documents...</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n          <div ref={messagesEndRef} />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"p-6 border-t border-gray-100/80 bg-white/70 backdrop-blur-sm\">\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div className=\"relative\">\r\n            <Textarea\r\n              ref={textareaRef}\r\n              value={inputMessage}\r\n              onChange={(e) => setInputMessage(e.target.value)}\r\n              onKeyDown={handleKeyDown}\r\n              placeholder={hasDocuments ? \"Ask anything about your documents...\" : \"Upload documents first to start chatting\"}\r\n              disabled={!hasDocuments || isGenerating}\r\n              className=\"min-h-[60px] max-h-32 resize-none pr-14 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-300 border-gray-200 bg-white/80 backdrop-blur-sm shadow-sm rounded-xl\"\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              size=\"sm\"\r\n              disabled={!inputMessage.trim() || !hasDocuments || isGenerating}\r\n              className=\"absolute bottom-3 right-3 h-8 w-8 p-0 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-lg hover:shadow-xl transition-all duration-200 rounded-lg\"\r\n            >\r\n              <Send className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n          \r\n          {!hasDocuments && (\r\n            <div className=\"flex items-center gap-2 p-3 bg-amber-50/80 border border-amber-200 rounded-xl\">\r\n              <div className=\"w-2 h-2 bg-amber-400 rounded-full animate-pulse\"></div>\r\n              <p className=\"text-sm text-amber-700 font-medium\">\r\n                Please upload and process documents to enable the chat functionality\r\n              </p>\r\n            </div>\r\n          )}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Main App Component\r\nconst ConsolidatedApp = () => {\r\n  const [uploadedFiles, setUploadedFiles] = useState<UploadedFile[]>([]);\r\n  const [chatMessages, setChatMessages] = useState<ChatMessage[]>([]);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const handleFileUpload = async (files: File[]) => {\r\n    setIsUploading(true);\r\n    setError(null);\r\n    \r\n    // Create initial file entries\r\n    const newFiles: UploadedFile[] = files.map(file => ({\r\n      id: Math.random().toString(36).substr(2, 9),\r\n      name: file.name,\r\n      size: file.size,\r\n      type: file.type,\r\n      uploadedAt: new Date(),\r\n      status: 'uploading'\r\n    }));\r\n    \r\n    setUploadedFiles(prev => [...prev, ...newFiles]);\r\n\r\n    // Upload files to backend\r\n    try {\r\n      const uploadPromises = files.map(async (file, index) => {\r\n        try {\r\n          await uploadFileToBackend(file);\r\n          // Update file status to processed\r\n          setUploadedFiles(prev => \r\n            prev.map(f => \r\n              f.id === newFiles[index].id \r\n                ? { ...f, status: 'processed' as const }\r\n                : f\r\n            )\r\n          );\r\n        } catch (error) {\r\n          console.error(`Failed to upload ${file.name}:`, error);\r\n          // Update file status to error\r\n          setUploadedFiles(prev => \r\n            prev.map(f => \r\n              f.id === newFiles[index].id \r\n                ? { ...f, status: 'error' as const }\r\n                : f\r\n            )\r\n          );\r\n          throw error;\r\n        }\r\n      });\r\n\r\n      await Promise.all(uploadPromises);\r\n    } catch (error) {\r\n      setError(`Upload failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n    } finally {\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = async (message: string) => {\r\n    if (!message.trim()) return;\r\n\r\n    const userMessage: ChatMessage = {\r\n      id: Math.random().toString(36).substr(2, 9),\r\n      type: 'user',\r\n      content: message,\r\n      timestamp: new Date(),\r\n    };\r\n\r\n    setChatMessages(prev => [...prev, userMessage]);\r\n    setIsGenerating(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await sendMessageToBackend(message);\r\n      \r\n      const botMessage: ChatMessage = {\r\n        id: Math.random().toString(36).substr(2, 9),\r\n        type: 'bot',\r\n        content: response.answer,\r\n        timestamp: new Date(),\r\n        sources: response.sources\r\n      };\r\n\r\n      setChatMessages(prev => [...prev, botMessage]);\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : 'Failed to get response';\r\n      setError(errorMessage);\r\n      \r\n      const botMessage: ChatMessage = {\r\n        id: Math.random().toString(36).substr(2, 9),\r\n        type: 'bot',\r\n        content: `Sorry, I encountered an error: ${errorMessage}. Please try again.`,\r\n        timestamp: new Date(),\r\n      };\r\n\r\n      setChatMessages(prev => [...prev, botMessage]);\r\n    } finally {\r\n      setIsGenerating(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteFile = (fileId: string) => {\r\n    setUploadedFiles(prev => prev.filter(file => file.id !== fileId));\r\n  };\r\n\r\n  const handleClearChat = async () => {\r\n    try {\r\n      await clearChatMemory();\r\n      setChatMessages([]);\r\n      setError(null);\r\n    } catch (error) {\r\n      setError(`Failed to clear chat: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n    }\r\n  };\r\n\r\n  const hasProcessedDocuments = uploadedFiles.some(file => file.status === 'processed');\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100\">\r\n      <Header onClearChat={handleClearChat} />\r\n      \r\n      <div className=\"container mx-auto px-4 py-8 max-w-7xl\">\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8 h-[calc(100vh-12rem)]\">\r\n          <div className=\"lg:col-span-1\">\r\n            <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 h-full overflow-hidden\">\r\n              <div className=\"p-6 border-b border-gray-100\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg\">\r\n                    <FileText className=\"h-5 w-5 text-white\" />\r\n                  </div>\r\n                  <div>\r\n                    <h2 className=\"text-lg font-semibold text-gray-900\">Documents</h2>\r\n                    <p className=\"text-sm text-gray-500\">\r\n                      {uploadedFiles.length} files ‚Ä¢ {uploadedFiles.filter(f => f.status === 'processed').length} processed\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              \r\n              <div className=\"p-6 h-full overflow-y-auto\">\r\n                <DocumentUpload\r\n                  onFileUpload={handleFileUpload}\r\n                  uploadedFiles={uploadedFiles}\r\n                  onDeleteFile={handleDeleteFile}\r\n                  isUploading={isUploading}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"lg:col-span-2\">\r\n            <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 h-full\">\r\n              <ChatInterface\r\n                messages={chatMessages}\r\n                onSendMessage={handleSendMessage}\r\n                isGenerating={isGenerating}\r\n                hasDocuments={hasProcessedDocuments}\r\n                error={error}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConsolidatedApp;"],"mappings":";;;;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}